<?php

$_public_access = array(
    "chat",
    "newCatalog", "jokes", "jokes_category", "sayings", "sayings_category", "mobile_prepaid_providers",
    'loginNew', "my_phonebook", 'videos', 'saveCords', 'company_catalogs', "branches", "catalogs", 'city_websites', "step1_vhelp", "company_banners", 'step1_help', 'wv', 'dv', 'iv', 'login', 'step1', 'step2_commercial_customer',
    'step2_individuals', 'step3', 'step4', 'update_lang', 'classified_send_to_friend', 'upload_video_backend', 'upload_video_backend_simul',
    'upload_picture_backend_simul', 'upload_ecard_backend_simul', 'upload_wallpapers_backend_simul', 'reset_password', 'partner_content',
    'environment_and_transport', 'money_and_finances', 'safety_and_traffic', 'vehicle_models', 'cruise_reports', 'family_and_home', 'job_and_career',
    'eating_drink,ng', 'construction_and_housing', 'home_and_furnishing', 'law_and_judgments', 'health_and_nutrition', 'economy', 'holiday_and_travel', 'multimedia');

$_commercial_user_access = array(
    "event_classified",
    "create_general_classified", "classifieds", "my_real_estate_classified",
    "c_privacy_settings", "mail_spam", "mail_archive", "mail_outbox",
    "company_point", 'wall', "wall_company", "company_login_info", "private_member_wall", "geographical",
    "book_online_ad_space_step2", "book_online_ad_space_step3", "book_online_ad_space_step4",
    "my_branch_logos", "book_online_ad_space_step1", "book_online_ad_space_2",
    "invite_partners", "official_partners", "own_brands", "our_products",
    "my_branches", "create_catalogs_thumb",
    "create_catalogs", 'crop_image', 'crop_image_pu', "invite_commercial_user", 'my_flyers', "add_new_egentis_product", 'my_egentis_products', 'my_egentis_category', "my_egentis_setting", "egentis_landing",
    'my_menu_additives', "my_menu_card_settings", "my_dishes", 'my_menu_card', "my_menu_category", "job_details",
    "buy_first_print_credits", "my_improvement_suggestions", "my_trust_report", "my_trust_report_reviews", "win_games", "my_contact_persons",
    "online_support", "booked_print_ad_spaces", "my_website", "print_credit_details", 'buy_print_credits', "my_print_banners", 'book_ad_space_2',
    "book_ad_space", 'my_commercial_pictures', 'my_favourite_shop_products', 'crop_my_news_image', 'crop_my_cp_image', 'my_news', 'add_video', 'ajax_add_video',
    'general_classified', 'change_emailid', 'change_password', 'edit_profile', 'landing', 'add_general_classified', 'upload_image_general_clasified',
    'classified_ajax_handler', 'general_classified_step2', 'add_keyword', 'translate_keyword', 'company_information', 'my_voucher', 'general_classified_step_2_commercial',
    'general_classified_step_2_private', 'add_general_classified', 'add_car_classified',
    'upload_image_general_clasified', 'landing', 'general_classified_step_3',
    'my_entry', 'my_data', 'my_banners', 'car_classified_step_3',
    'translate_description', 'classified_details', 'upload_video',
    'car_classified_details', 'classified_details', 'general_classified_details',
    'add_video', 'classified_send_to_friend', 'ajax_classified_send_to_friend',
    'classified_step_4', 'mail_inbox', 'mail_create', 'mail_details', 'mail_outbox',
    'my_general_classified', 'my_car_classified', 'my_shop_add', 'upload_my_shop_image',
    'myshop_step_2_commercial', 'myshop_step_3', 'myshop_step_4', 'my_shop',
    'add_myshop_category', 'edit_general_classified', 'edit_my_shop', 'my_shop_setting',
    'add_event', 'add_event_step_2_commercial', 'upload_image_event', 'add_event_step_3', 'my_favourite_general_classified',
    'my_favourite_car_classified', 'add_event_step_4', 'office_opening',
    'edit_car_classified', 'my_business_hours', 'payment_settings', 'add_order',
    'my_order', 'upload_order_images', 'my_order_details', 'order_download', 'view_company_voucher',
    'view_company_video', 'upload_banner_images', 'view_company_banner', 'add_language',
    'cost_details', 'cost_price_list', 'commercials_home_page', 'scanfile_commercial', 'my_pages', 'create_similar_general_classified',
    'add_job_step_1', 'add_job_step_2_private', 'add_job_step_3', 'job_step_4', 'job_landing', 'job_details', 'job_send_to_friend',
    'add_job_step_2_commercial', 'job_ajax_handler', 'my_job_ads', 'edit_general_job', 'my_website_privacy_policy', 'commercial_user_template',
    'commercial_user_template_menu', 'commercial_user_template_menu_elements', 'voucher_cards',
    'voucher_cards_designs', 'voucher_cards_generate', "voucher_cards_elements_settings", "voucher_cards_elements_edit", "voucher_cards_elements_settings_advance", "adlino_card", "my_favourite_job_classified", "my_favourite_event_classified");

$_private_user_access = array(
    
    "event_classified","my_start_setting",
    "create_general_classified", "my_real_estate_classified",
    "mycash_faq", "my_entry", "my_business_hours", "add_keyword",
    'guestbook', "my_referrals", "commission_model", "invited_referrals", "invite_companies", "created_companies", "invited_companies", "mycash_info",
    "edit_profile", "mail_spam", "mail_archive", "mail_outbox", "user_page",
    "classifieds", "user_point", "company_point", "geographical",
    "online_games", "video_news",
    'wall', "privacy_settings",
    'private_member_wall', "crop_image", "crop_image_pu", 'my_favourite_shop_products', 'my_city_picture', 'scanfile', 'upload_video_tatva', 'phpfileuploader/phpuploader/ajaxuploaderhandler.php',
    'phpfileuploader/phpuploader/ajaxuploaderresource.php', 'general_classified',
    'change_password', 'change_emailid', 'upload_video',
    'private_member_profile', 'invite_friend_game', 'upload_video', 'edit_upload_video', 'edit_private_member',
    'private_member_send_to_friend', 'private_member_report_user',
    'private_member_subscribe', 'private_member_upload', 'private_member_block_user',
    'ajax_member_send_to_friend', 'ajax_member_user_report', 'ajax_member_subscribe',
    'ajax_member_block_user', 'add_car_classified', 'landing', 'classified_ajax_handler',
    'my_content', 'my_picture', 'view_user_video', 'ajax_handler', 'friend_request_details',
    'general_classified_step_2_commercial', 'general_classified_step_2_private',
    'add_general_classified', 'upload_image_general_clasified', 'add_car_classified',
    'landing', 'general_classified_step_3', 'car_classified_step_3', 'classified_details',
    'upload_video', 'classified_details', 'general_classified_details',
    'classified_send_to_friend', 'ajax_classified_send_to_friend', 'car_landing',
    'classified_step_4', 'upload_picture', 'ajax_upload_picture', 'mail_inbox',
    'mail_create', 'mail_details', 'view_user_picture', 'mail_outbox',
    'edit_user_picture', 'my_general_classified', 'upload_ecard', 'my_favourite',
    'playlist', 'ajax_upload_ecard', 'upload_wallpaper', 'ajax_upload_wallpaper',
    'edit_user_ecard', 'my_ecard', 'relavant_keyword', 'edit_user_wallpaper',
    'my_wallpaper', 'edit_general_classified', 'my_favourite_general_classified', 'my_favourite_car_classified', 'upload_my_shop_image', 'myshop_step_2_private', 'myshop_step_3', 'myshop_step_4', 'subscribe_content',
    'add_event', 'add_event_step_2_private', 'upload_image_event', 'add_event_step_3', 'add_event_step_4',
    'last_visitors', 'edit_car_classified', 'my_car_classified', 'my_home_page', 'scanfile', 'my_guestbook', 'user_login_info', 'register_adspace', 'ajax_register_adspace', 'show_ads', 'private_user_search', 'contact_1',
    'ajax_add_website', 'shopping_buy_now', 'my_shopping_details', 'invite_friend', 'ajax_invite_friend', 'similar_event',
    'cost_details', 'cost_price_list', 'job_ajax_handler', 'add_job_step_1',
    'add_job_step_2_private', 'add_job_step_3', 'job_step_4', 'job_landing', 'job_details',
    'job_send_to_friend', 'ajax_job_send_to_friend', 'my_job_ads', 'create_similar_general_classified', 'create_similar_job_ads', 'video_moderation', 'private_video', 'edit_general_job', 'my_friends', 'private_adlino_card', 'private_adlino_card_main', 'my_adlino_card');

if (isset($_GET['user_id'])) {
    $_bypass_url = array('chat_rules',"music_news_single", 'music_news', "tips_single", 'questions_and_answers_single', "tv_programm", 'horoscope', "cooking_recipe", 'video_report', "gallery_story", 'weather_google_cron', "faq", 'main_sponsor_ads_info', "standard_banner_ads_info", "user_page", 'browsergames', "wall", "private_member_wall", 'home', "home30", "wallpapers", "fun_cards", "cinema_movies", 'company_wall', "companyNew", 'job_details', 'supplier_shop_landing', 'sm', 'ajax_handler', 'home', 'view_user_video', 'company', 'company_information', 'video_landing', 'landing', 'car_landing', 'general_classified_details', 'view_user_picture', 'ajax_picture_comment', 'picture_landing', 'city_picture_landing', 'ajax_ecard_comment', 'ajax_wallpaper_comment', 'view_user_ecard', 'view_user_wallpaper', 'ecard_landing', 'relavant_keyword', 'wallpaper_landing', 'private_member_profile', 'invite_friend_game', 'my_content', 'my_picture', 'user_content', 'user_picture', 'classified_ajax_handler', 'my_ecard', 'my_wallpaper', 'event_landing', 'member_list', 'shopping_landing', 'contact_us', 'contact_us_thankyou', 'my_event_landing', 'forgot_password', 'event_details', 'job_landing', 'web_search', 'imprint', 'disclaimer', 'about_adlino', 'help', 'user_agreement', 'privacy_policy', 'webcatalog', 'invite_game_termsandcondition', 'commercial_user_termsandcondition', 'private_user_termsandcondition');
} else {
    $_bypass_url = array('chat_rules',"music_news_single", 'music_news', "tips_single", 'questions_and_answers_single', "tv_programm", 'horoscope', "cooking_recipe", 'video_report', "gallery_story", 'weather_google_cron', "faq", 'main_sponsor_ads_info', 'standard_banner_ads_info', "user_page", 'browsergames', "wall", "private_member_wall", 'home', 'home30', "wallpapers", "fun_cards", "cinema_movies", 'company_wall', "companyNew", 'job_details', 'supplier_shop_landing', 'sm', 'ajax_handler', 'home', 'view_user_video', 'company', 'company_information', 'video_landing', 'landing', 'car_landing', 'general_classified_details', 'view_user_picture', 'ajax_picture_comment', 'picture_landing', 'city_picture_landing', 'ajax_ecard_comment', 'ajax_wallpaper_comment', 'view_user_ecard', 'view_user_wallpaper', 'ecard_landing', 'relavant_keyword', 'wallpaper_landing', 'my_shop_landing', 'my_shop_details', 'general_classified_details', 'classified_details', 'classified_ajax_handler', 'my_ecard', 'my_wallpaper', 'event_landing', 'report_abuse', 'member_list', 'user_search', 'shopping_landing', 'contact_us', 'contact_us_thankyou', 'my_event_landing', 'forgot_password', 'event_details', 'job_landing', 'web_search', 'imprint', 'disclaimer', 'about_adlino', 'help', 'user_agreement', 'privacy_policy', 'webcatalog', 'invite_game_termsandcondition', 'commercial_user_termsandcondition', 'private_user_termsandcondition');
}

$_login_urls = array('login', 'loginNew');
$home_array = array('login', 'loginNew');

//d($url); 
define('COUNTRY_ID', $_SERVER['country_id']);
//require_once "soapclient.inc.php";
//$country_name = $soap->get_logo_country_name(COUNTRY_ID);
include_once(_PATH . 'lib/class.soap_abstract.php');

if (!isset($_SESSION['COUNTRY_NAME'])) {
    $soap = new soap_abstract();
    $country_name = $soap->get_logo_country_name(COUNTRY_ID);
    $_SESSION['COUNTRY_NAME'] = $country_name[0]['c_name'];
}

$url = _e($_REQUEST['q'], 'home30');

if ($url == 'home30') {
    header("Location:" . _U . "home");
    exit;
}

if ($url == 'home') {
    $url = 'home30';
}

unset($_SESSION['showAllFriends']);
unset($_SESSION['showAllVisitors']);

//$_SESSION['isSubDomainContent'] = false; // make false for sub-domain content


$crackURLs = _getCrackURL();
if (in_array($url, $crackURLs)) {
    $request = $_REQUEST;
    unset($request['q']);
    if (empty($request)) {
        _unsetCracks();
    }
}
include_once 'config_new_labels.inc.php';
$_SESSION['album_type'] = '';

include _ . "elements/globalUploadProfilePhoto.php";

if (strpos($url, "/")) {

    $_url = explode("/", $url);

    $_REQUEST['q'] = $url = $_url[0];

    switch ($_url[1]) {
        case 'step2_commercial_customer':
            tpl::$_vars['step2_commercial_customer']['ref'] = base64_decode($_url[0]);
            $url = "step2_commercial_customerNew";
            $_REQUEST['directModule'] = '';
            break;
        case 'step2_individuals':
            tpl::$_vars['step2_individuals']['ref'] = base64_decode($_url[0]);
            $url = "step2_individualsNew";
            $_REQUEST['directModule'] = '';
            break;
    }


    switch ($url) {
        case 'city':
            //include 'city_config_in_front.php';
            break;
        case 'user_page':
            $user_id = base64_decode($_url[1]);
            $pu_name = _pu_name_by_id($user_id);
            $_REQUEST['opts'] = $_url;
            if ($pu_name != str_replace("_", " ", $_url[2])) {
                header("Location:" . _U . "user_point");
                exit;
            }
            $_SESSION['user_id_friend'] = $user_id;
//            if ($user_id != $_SESSION['user_id']) {
//                $_SESSION['user_id_friend'] = $user_id;
//            } else {
//                header("Location:" . _U . "user_point");
//                exit;
//            }

            break;
        case 'city_chat_province':
            tpl::$_vars['misc'][$url]['city_id'] = $_url[2];
            tpl::$_vars['chat_url'] = $_url[1] . "/" . $_url[2];
            tpl::$_vars['chat_is_province'] = mysql_real_escape_string($_url[2]);
            tpl::$_vars['chat_room_name'] = qs("select p_name from provinces where p_id = '".tpl::$_vars['chat_is_province']."' ");
            tpl::$_vars['chat_room_name'] = tpl::$_vars['chat_room_name']['p_name'];
            $url = 'geographical';
            break;
        case 'city_chat_states':
            tpl::$_vars['misc'][$url]['city_id'] = $_url[2];
            tpl::$_vars['chat_url'] = $_url[1] . "/" . $_url[2];
            
            tpl::$_vars['chat_is_state'] = mysql_real_escape_string($_url[2]);
            $url = 'geographical';
            break;
//        case 'geographical':
//            tpl::$_vars['misc'][$url]['city_id'] = $_url[2];
//            tpl::$_vars['chat_url'] = $_url[1] . "/" . $_url[2];
//            break;
        case 'city_chat':
            tpl::$_vars['misc'][$url]['city_id'] = $_url[2];
            tpl::$_vars['chat_url'] = $_url[1] . "/" . $_url[2];
            tpl::$_vars['chat_room_name'] = qs("select ci_name from cities where ci_id = '".mysql_real_escape_string($_url[2])."' ");
            tpl::$_vars['chat_room_name'] = tpl::$_vars['chat_room_name']['ci_name'];
            tpl::$_vars['chat_is_city'] = $_url[2];
            $url = 'geographical';
            break;
        case 'user':
            $url = "wall";
            $user_id = $_url[1];
            $user_id = base64_decode($_url[1]);
            $pu_name = _pu_name_by_id($user_id);

            if ($pu_name != str_replace("_", " ", $_url[2])) {
                header("Location:" . _U . "user_point");
                exit;
            }
            if ($user_id != $_SESSION['user_id']) {
                $_SESSION['user_id_friend'] = $user_id;
            } else {
                header("Location:" . _U . "user_point");
                exit;
            }

            break;
        case 'friend':
            $url = "wall";
            $fid = end($_url);
            if ($fid == $_SESSION['user_id']) {
                header("Location:" . _U . "user_point");
                exit;
            }
            $_SESSION['user_id_friend'] = $fid;
            break;

        case 'acteur_information':
            _unsetCracks();
            $url = "wall";
            $cid = end($_url);
            $_REQUEST['directModule'] = "doLoadActors('{$cid}')";
            break;
        case 'jokes_category':
            _unsetCracks();
            $url = _getWallUrl();
            $cid = end($_url);
            $_REQUEST['directModule'] = "doLoadJocksCat('{$cid}')";
            $_REQUEST['_qHack'] = 'isSingle';
            break;
        case 'jokes':
            _unsetCracks();
            $url = _getWallUrl();
            $cid = end($_url);
            $_REQUEST['_qHack'] = 'content_single';
            $_REQUEST['directModule'] = "doLoadFunContent('{$cid}','_jocks')";
            break;
        case 'sayings':
            _unsetCracks();
            $url = _getWallUrl();
            $cid = end($_url);
            $_REQUEST['_qHack'] = 'content_single';
            $_SESSION['isSubDomainContent'] = false;
            $_REQUEST['directModule'] = "doLoadFunContent('{$cid}','_sayings')";
            break;
        case 'sayings_category':
            _unsetCracks();
            $url = _getWallUrl();
            $cid = end($_url);
            $_REQUEST['_qHack'] = 'content_single';
            $_SESSION['isSubDomainContent'] = false;
            $_REQUEST['directModule'] = "doLoadSayingsCat('{$cid}')";
            break;
        case 'browsergames_categories':
            $url = _getWallUrl();
            $cid = end($_url);
            $_REQUEST['directModule'] = "doLoadBG('{$cid}')";
            break;
        case 'browsergames':
            $url = _getWallUrl();
            $cid = end($_url);
            $_REQUEST['game_id'] = $cid;
            $_REQUEST['_qHack'] = 'content_single';
            $_REQUEST['directModule'] = "doLoadBrowserGamesSingle('{$cid}')";
            break;
        case 'online_games_categories':
            _unsetCracks();
            $url = _getWallUrl();
            $cid = end($_url);
            $_REQUEST['directModule'] = "doLoadOGCat('{$cid}')";
            $_REQUEST['_qHack'] = 'isSingle';
            break;
        case 'online_games':
            _unsetCracks();
            $url = _getWallUrl();
            $cid = end($_url);

            switch ($cid) {
                case 'playlist':
                    $url = _getWallUrl();
                    $filter = $_url[1] == "highscore" ? "playlist_highscore" : "playlist";
                    $_REQUEST['directModule'] = "doLoadOG('{$filter}')";
                    break;
                case 'invites':
                    $url = _getWallUrl();
                    $_REQUEST['directModule'] = "doLoadOG('invite')";
                    break;
                case 'popular':
                    $url = _getWallUrl();
                    $_REQUEST['directModule'] = "doLoadOG('mp')";
                    break;
                case 'trending':
                    $url = _getWallUrl();
                    $_REQUEST['directModule'] = "doLoadOG('tr')";
                    break;
                case 'random':
                    $url = _getWallUrl();
                    $_REQUEST['directModule'] = "doLoadOG('rd')";
                    break;
                case 'favorite':
                    $url = _getWallUrl();
                    $_REQUEST['directModule'] = "doLoadOG('fv')";
                    break;
                case 'highscore':
                    $url = _getWallUrl();
                    $_REQUEST['directModule'] = "doLoadOG('hs')";
                    break;
                case 'new':
                    $url = _getWallUrl();
                    $_REQUEST['directModule'] = "doLoadOG('ng')";
                    break;
                default:
                    $_REQUEST['_qHack'] = 'isSingle';
                    $_REQUEST['game_id'] = $cid;
                    $_REQUEST['directModule'] = "doLoadGamesSingle('{$cid}')";
                    break;
            }
            break;
        case 'general_classified_category':
            $url = _getWallUrl();
            $cid = end($_url);
            $_REQUEST['directModule'] = "_classified_by_cat('{$cid}')";
            break;
        case 'general_classified_category_sub':
            $url = _getWallUrl();
            $cid = end($_url);
            $_REQUEST['directModule'] = "_classified_by_sub_cat('{$cid}')";
            break;
        case 'event_classified_category':
            $url = _getWallUrl();
            $cid = end($_url);
            $_REQUEST['directModule'] = "_classified_by_cat('{$cid}')";
            break;
        case 'event_classified_category_sub':
            $url = _getWallUrl();
            $cid = end($_url);
            $_REQUEST['directModule'] = "_classified_by_sub_cat('{$cid}')";
            break;
        case 'general_classified':
        case 'job_classified':
        case 'event_classified':
        case 'shop_product':


            _unsetCracks();
            $_REQUEST['_qHack'] = 'isClsSingle';
            $url = _getWallUrl();
            $content_id = end($_url);

            switch ($content_id) {
                case 'favorite':
                    $_REQUEST['directModule'] = "doLoadCM('fv')";
                    break;
                case 'playlist':
                    $_REQUEST['directModule'] = "doLoadCM('playlist')";
                    break;
                default:
                    $_REQUEST['directModule'] = "doLoadClassifiedSingle('{$content_id}')";
            }

            break;
        case 'video_news_category':
            $url = _getWallUrl();
            $cid = end($_url);
            $_REQUEST['directModule'] = "_video_news_by_cat('{$cid}')";
            break;
        case 'video_news':
            $url = _getWallUrl();
            $cid = end($_url);
            $_REQUEST['_qHack'] = 'content_single';
            $_REQUEST['directModule'] = "doLoadNewsSingle('{$cid}')"; # playlist logic is implemented in JS Function
            break;
        case 'cooking_recipes':
            $url = 'cooking_recipe';
            $_REQUEST['_qHack'] = 'content_single';
            $_REQUEST['vid'] = ($_url[count($_url) - 2]);
            break;
        case 'cooking_recipes_cat':
            $cid = end($_url);
            $url = _getWallUrl();
            $_REQUEST['directModule'] = "doLoadCookingCat('{$cid}')";
            $_REQUEST['_qHack'] = 'isSingle';
            break;
        case 'horoscope':
            $url = 'horoscope';
            $_REQUEST['id'] = end($_url);
            break;
        case 'questions_and_answers':
            $url = 'questions_and_answers_single';
            $_REQUEST['_qHack'] = 'content_single';
            $_REQUEST['id'] = end($_url);
            break;
        case 'questions_and_answers_cat':
            $cid = end($_url);
            $url = _getWallUrl();
            $_REQUEST['directModule'] = "doLoadQNACat('{$cid}')";
            $_REQUEST['_qHack'] = 'isSingle';
            break;

        case 'tipps_and_advices':
            $url = 'tips_single';
            $_REQUEST['_qHack'] = 'content_single';
            $_REQUEST['id'] = end($_url);
            break;
        case 'tipps_and_advices_cat':
            $cid = end($_url);
            $url = _getWallUrl();
            $_REQUEST['directModule'] = "doLoadTipsCat('{$cid}')";
            $_REQUEST['_qHack'] = 'isSingle';
            break;
        case 'musicnews_favorite_albums':
            $_SESSION['album_type'] = str_replace("_albums", '', $_REQUEST['q']);
            $cid = end($_url);
            $_REQUEST['directModule'] = "_musicnewsAlbum('{$cid}')";
            $url = _getWallUrl();
            $_REQUEST['_qHack'] = 'isSingle';
            unset($_SESSION['playlist_index']);
            unset($_SESSION['is_playlist']);
            break;
        case 'greatest_hits_playlist':
            $url = 'music_news_single';
            $_REQUEST['is_greatest_hit'] = 'yes';
            $_REQUEST['is_greatest_hit_cat'] =  end($_url);
            break;
        case 'music_favorite_albums_playlist':
        case 'artist_albums_playlist':
            $url = 'music_news_single';
            $_SESSION['is_playlist'] = 'yes';
            $_REQUEST['id'] = end($_url);
            break;
        case 'skip_url':
            $url = 'music_news_single';
            $_REQUEST['skip_things'] = 'yes';
            $_REQUEST['id'] = end($_url);
            break;
        case 'music_news':
            $_SESSION['music_video_type'] = 'music_news';
            $url = 'music_news_single';
            $_REQUEST['id'] = end($_url);
            unset($_SESSION['playlist_index']);
            unset($_SESSION['is_playlist']);

            switch ($_REQUEST['id']) {
                case 'favorite':
                    $url = _getWallUrl();
                    $_REQUEST['directModule'] = "doLoadMusicNewsFav()";
                    break;
                case 'playlist':
                    $url = _getWallUrl();
                    $_REQUEST['directModule'] = "doLoadMusicNewsPlaylist()";
                    break;
            }
            break;
        case 'music_clips':
            $_SESSION['music_video_type'] = 'music_videos';
            $url = 'music_news_single';
            $_REQUEST['id'] = end($_url);
            unset($_SESSION['playlist_index']);
            unset($_SESSION['is_playlist']);

            switch ($_REQUEST['id']) {
                case 'favorite':
                    $url = _getWallUrl();
                    $_REQUEST['directModule'] = "doLoadMusicNewsFav()";
                    break;
                case 'playlist':
                    $url = _getWallUrl();
                    $_REQUEST['directModule'] = "doLoadMusicNewsPlaylist()";
                    break;
            }

            break;
        case 'music_news_cat':
            $cid = end($_url);
            $url = _getWallUrl();
            $_SESSION['music_video_type'] = 'music_news';
            $_REQUEST['directModule'] = "doLoadMusicNewsCat('{$cid}')";
            $_REQUEST['_qHack'] = 'isSingle';
            break;
        case 'music_clips_cat':
            $cid = end($_url);
            $url = _getWallUrl();
            $_SESSION['music_video_type'] = 'music_videos';
            $_REQUEST['directModule'] = "doLoadMusicNewsCat('{$cid}')";
            $_REQUEST['_qHack'] = 'isSingle';
            break;
        case 'reports_cat':
            $cid = end($_url);
            $url = _getWallUrl();
            $_REQUEST['directModule'] = "doLoadReportsCat('{$cid}')";
            $_REQUEST['_qHack'] = 'isSingle';
            break;
        case 'reports':
            $url = 'video_report';
            $_REQUEST['vid'] = end($_url);
            $_REQUEST['_qHack'] = 'isSingleContent';
            break;
        case 'gallery_story':
            $url = 'gallery_story';
            tpl::$_vars['gallery_story']['id'] = end($_url);
            break;
        case 'cinema_movies':
            _unsetCracks();
            $url = _getWallUrl();
            $cid = end($_url);
            switch ($cid) {
                case 'favorite':
                    $_REQUEST['directModule'] = "doLoadCM('fv')";
                    break;
                case 'playlist':
                    $_REQUEST['directModule'] = "doLoadCM('playlist')";
                    break;
                default:
                    $_REQUEST['_qHack'] = 'content_single';
                    $_REQUEST['directModule'] = "doLoadCinemaSingle('{$cid}')";
            }

            break;
        case 'city_pictures':
        case 'city_pictures_category':
            $_cid = $cid = end($_url);
            $configDS = array('jsFunc' => "_citypictures", 'include' => 'Picture');
            $cid = $url == "city_pictures_category" ? "cat" : $cid;
            include _ . "elements/configGeneral.php";
            $url = _getWallUrl();
            $_REQUEST['_qHack'] = 'isSingle';
            break;
        case 'pictures':
        case 'private_pictures':
        case 'pictures_category':
            $_cid = $cid = end($_url);
            $configDS = array('jsFunc' => "_pictures", 'include' => 'Picture');
            $isPrivate = $url == 'private_pictures' ? true : false;
            $cid = $url == "pictures_category" ? "cat" : $cid;
            include _ . "elements/configGeneral.php";
            $url = _getWallUrl();
            $_REQUEST['_qHack'] = 'isSingle';
            break;
        case 'fun_cards':
        case 'fun_cards_category':
            $_cid = $cid = end($_url);
            $configDS = array('jsFunc' => "_ecards", 'include' => 'Ecards');
            $cid = $url == "fun_cards_category" ? "cat" : $cid;
            include _ . "elements/configGeneral.php";
            $url = _getWallUrl();
            $_REQUEST['_qHack'] = 'isSingle';
            break;
        case 'wallpapers':
        case 'wallpapers_category':
            $_cid = $cid = end($_url);
            $configDS = array('jsFunc' => "_wallpapers", 'include' => 'Wallpapers');
            $cid = $url == "wallpapers_category" ? "cat" : $cid;
            include _ . "elements/configGeneral.php";
            $url = _getWallUrl();
            $_REQUEST['_qHack'] = 'isSingle';
            break;
        case 'videos':
        case 'private_videos':
        case 'videos_category':
        //case 'private_video_albums':
            $_cid = $cid = end($_url);
            $configDS = array('jsFunc' => "_videos", 'include' => 'Videos');
            $isPrivate = $url == 'private_videos' ? true : false;
            $cid = $url == "videos_category" ? "cat" : $cid;
            include _ . "elements/configGeneral.php";
            $url = _getWallUrl();
            $_REQUEST['_qHack'] = 'isSingle';
            break;
        case 'wallpaper_albums':
        case 'wallpaper_favorite_albums':
            $_SESSION['album_type'] = str_replace("_albums", '', $_REQUEST['q']);
            $cid = end($_url);
            $_REQUEST['directModule'] = "_wallpapersAlbum('{$cid}')";
            $url = _getWallUrl();
            $_REQUEST['_qHack'] = 'isSingle';
            break;
        case 'city_picture_albums':
        case 'city_picture_favorite_albums':
            $_SESSION['album_type'] = str_replace("_albums", '', $_REQUEST['q']);
            $cid = end($_url);
            $_REQUEST['directModule'] = "_citypicturesAlbum('{$cid}')";
            $url = _getWallUrl();
            $_REQUEST['_qHack'] = 'isSingle';
            break;
        case 'funcards_albums':
        case 'funcards_favorite_albums':
            $_SESSION['album_type'] = str_replace("_albums", '', $_REQUEST['q']);
            $cid = end($_url);
            $_REQUEST['directModule'] = "_ecardsAlbum('{$cid}')";
            $url = _getWallUrl();
            $_REQUEST['_qHack'] = 'isSingle';
            break;
        case 'picture_albums':
        case 'picture_favorite_albums':
        case 'picture_private_albums':
        case 'private_picture_albums':
            $cid = end($_url);
            $_SESSION['album_type'] = $_REQUEST['q'] == "private_picture_albums" ? 'picture' : str_replace("_albums", '', $_REQUEST['q']);
            $_REQUEST['directModule'] = "_picturesAlbum('{$cid}')";
            $_SESSION['album_type_hack'] = $_REQUEST['q'] == "private_picture_albums" ? 'yes' : 'no';
            $url = _getWallUrl();
            $_REQUEST['_qHack'] = 'isSingle';
            break;
        case 'video_albums':
        case 'video_favorite_albums':
        //case 'video_private_albums':
        case 'private_video_albums':
            $cid = end($_url);
            $_SESSION['album_type'] = $_REQUEST['q'] == "private_video_albums" ? 'video' : str_replace("_albums", '', $_REQUEST['q']);
            $_SESSION['album_type_hack'] = $_REQUEST['q'] == "private_video_albums" ? 'yes' : 'no';
            $_REQUEST['directModule'] = "_videosAlbum('{$cid}')";
            $url = _getWallUrl();
            $_REQUEST['_qHack'] = 'isSingle';
            break;
        case 'online_games_albums':
        case 'online_games_favorite_albums':
            $cid = end($_url);
            $_SESSION['album_type'] = str_replace("_albums", '', $_REQUEST['q']);
            $_REQUEST['directModule'] = "doLoadOG('isAlbum_{$cid}')";
            $url = _getWallUrl();
            break;
        case 'cinema_movies_albums':
        case 'cinema_movies_favorite_albums':
            $cid = end($_url);
            $_SESSION['album_type'] = str_replace("_albums", '', $_REQUEST['q']);
            $_REQUEST['directModule'] = "doLoadCM('isAlbum_{$cid}')";
            $url = _getWallUrl();
            break;
        case 'company_information':
            $cid = explode("-", $_url[1]);
            $_REQUEST['company_id'] = $_GET['company_id'] = count($cid) > 1 ? intval($cid[1]) : $cid[0];
            $_REQUEST['directModule'] = "genericLoader(doLoadCompanyDetail,{cid:{$_REQUEST['company_id']},task:'{$_REQUEST['task']}'})";
            $url = 'company_wall';
            $_REQUEST['_qHack'] = 'isSingle';
            break;
//        case 'catalogs':
//            $_REQUEST['cid'] = end($_url);
//            $url = "company_catalogs";
//            break;
        case 'catalogs':
            $cid = explode("-", $_url[1]);
            $_REQUEST['company_id'] = $_GET['company_id'] = count($cid) > 1 ? intval($cid[1]) : $cid[0];
            $_REQUEST['is_catalog'] = 1;
            $url = "company_wall";
            $_REQUEST['cid'] = end($_url);
            $_REQUEST['directModule'] = "$('#moduleCompaniesCatalog').show()";
            break;
        case 'branches':
            $_REQUEST['cid'] = end($_url);
//            $url = "company";

            $url = "wall";
            $filters = $_REQUEST['filter'] ? ",filter:'{$_REQUEST['filter']}'" : "";
            $filters .= $_REQUEST['cat_id'] ? ",cat_id:'{$_REQUEST['cat_id']}'" : "";
            $filters .= ",b_cid:'{$_REQUEST['cid']}'";
            $_REQUEST['directModule'] = "genericLoader(doLoadCompanies,{resetPagging:1{$filters}})";

            break;
        case 'online_menu':
            $cid = explode("-", $_url[1]);
            $_GET['company_id'] = count($cid) > 1 ? intval($cid[1]) : $cid[0];

            break;
        case 'company':
            if ($url_meta_data[1] == 'k') {
                $_GET['keyword_id'] = $url_meta_data[2] ? $url_meta_data[2] : 0;
            }
            break;
        case 'company_banners':
            $_GET['_1'] = $_url[1];
            $_GET['_2'] = $_url[2];
            $_GET['_3'] = $_url[3];
            break;
        default:
            $_GET['_1'] = $_url[1];
            $_GET['_2'] = $_url[2];
            $_GET['_3'] = $_url[3];
    }
}


# First step towards Adlino-URL Re-writing.
//if ($url == 'private_member_wall')
//    $url = 'private_member_profile';

if ($url == 'login') {
    _unsetCracks();
    $url = 'loginNew';
}
if ($url == 'login01') {
    $url = 'login';
}

if ($url == 'guestbook_approved') {
    $url = 'guestbook';
    tpl::$_vars['mail']['filter'] = "approved";
}
if ($url == 'guestbook_unapproved') {
    $url = 'guestbook';
    tpl::$_vars['mail']['filter'] = "unapproved";
}
if ($url == 'guestbook_spam') {
    $url = 'guestbook';
    tpl::$_vars['mail']['filter'] = "spam";
}

if ($url == 'mail_archive') {
    $url = 'mail_inbox';
    tpl::$_vars['mail']['filter'] = "archive";
}
if ($url == 'greatest_hits_playlist') {
    $url = 'music_news_single';
    $_REQUEST['is_greatest_hit'] = 'yes';
}
if ($url == 'mail_spam') {
    $url = 'mail_inbox';
    tpl::$_vars['mail']['filter'] = "spam";
}
if ($url == 'mail_outbox') {
    $url = 'mail_inbox';
    tpl::$_vars['mail']['filter'] = "outbox";
}

if ($url == 'company_information') {
    $_REQUEST['_qHack'] = 'isSingle';
    if (!isset($_SESSION['user_role'])) {
        $url = "company_wall";
    } else {
        $url = "company_wall";
//$_REQUEST['company_id'] = $_GET['company_id'] = $_SESSION['company_id'];
    }

    $_REQUEST['directModule'] = "genericLoader(doLoadCompanyDetail,{cid:{$_REQUEST['company_id']},task:'{$_REQUEST['task']}'})";

    if ($_REQUEST['contact']) {
        $_REQUEST['is_company_detail'] = 1;
    }
}

if ($url == 'c_privacy_settings') {
    $url = $_SESSION['user_role'] != "individual" ? "change_emailid" : $url;
}
if ($url == 'jokes') {
    $url = _getWallUrl();
    $_REQUEST['directModule'] = "doLoadJocks()";
}
if ($url == 'sayings') {
    $url = _getWallUrl();
    $_REQUEST['directModule'] = "doLoadSayings()";
}
if ($url == 'online_games') {
    $url = _getWallUrl();
    $_REQUEST['directModule'] = "doLoadOG()";
}
if ($url == 'browsergames') {
    $url = _getWallUrl();
    $_REQUEST['directModule'] = "doLoadBG()";
}

if ($url == 'video_news') {
    $url = _getWallUrl();
    $_REQUEST['directModule'] = "doLoadVN()";
}
if ($url == 'cinema_movies') {
    $url = _getWallUrl();
    $_REQUEST['directModule'] = "doLoadCM()";
}
$cls_type = array('product_landing' => 'product', "general_classifieds_landing" => 'general', "event_classifieds_landing" => "event", "job_classifieds_landing" => "job");
$cls_type['top_offer_landing'] = 'product_topoffer';

if (in_array($url, array_keys($cls_type))) {

    $_SESSION['classifieds_landing']['type'] = $cls_type[$url];
    $url = _getWallUrl();
    $_REQUEST['directModule'] = "doLoadClassified()";
}

if ($url == 'fav_cinema_movies') {
    $url = _getWallUrl();
    $_REQUEST['directModule'] = "doLoadCM('fv')";
}


//if ($url == 'commercial_user_termsandcondition') {
//    $url = 'wall_company';
//    $_REQUEST['directModule'] = "genericLoader(doLoadStaticContent,{type:'ua'})";
//}
if ($url == 'user_agreementNew') {
    $url = _getWallUrl();
    $_REQUEST['directModule'] = "genericLoader(doLoadStaticContent,{type:'ua'})";
}
if ($url == 'about_adlinoNew') {
    $url = _getWallUrl();
    $_REQUEST['directModule'] = "genericLoader(doLoadStaticContent,{type:'aa'})";
}
if ($url == 'disclaimerNew') {
    $url = _getWallUrl();
    $_REQUEST['directModule'] = "genericLoader(doLoadStaticContent,{type:'dc'})";
}
if ($url == 'privacy_policyNew') {
    $url = _getWallUrl();
    $_REQUEST['directModule'] = "genericLoader(doLoadStaticContent,{type:'pp'})";
}
if ($url == 'my_phonebook') {
    $url = _getWallUrl();
    $_REQUEST['directModule'] = "genericLoader(doLoadCompanies,{isPhonebook:1})";
}
if ($url == 'my_friends') {
    $url = _getWallUrl();
    $_REQUEST['_qHacl'] = 'isSingle';
    $_REQUEST['directModule'] = "doLoadFriends()";
}
if ($url == 'private_member_friends') {
    $url = _getWallUrl();
    $_REQUEST['directModule'] = "doLoadFriends()";
    $_SESSION['showAllFriends'] = 1;
}
if ($url == 'private_member_visitors') {
    $url = _getWallUrl();
    $_REQUEST['directModule'] = "doLoadFriends()";
    $_SESSION['showAllVisitors'] = 1;
}
if ($url == 'city_chat') {
    $url = 'geographical';
    tpl::$_vars['chat_url'] = 'start';
    
}
if ($url == 'scanfile') {
    $_REQUEST['is_scanfile'] = 1;
    $url = "wall";
    $_REQUEST['directModule'] = "genericLoader(doLoadScanFile,{})";
}
//if ($url == 'companyNew') {
if ($url == 'companies') {

    if (!isset($_SESSION['user_role'])) {
        $url = "home30";
    } else if ($_SESSION['user_role'] == 'individual') {
        $url = "wall";
    } else {
        $url = "company_wall";
        $_REQUEST['company_id'] = $_GET['company_id'] = $_SESSION['company_id'];
    }

    $filters = $_REQUEST['filter'] ? ",filter:'{$_REQUEST['filter']}'" : "";
    $filters .= $_REQUEST['cat_id'] ? ",cat_id:'{$_REQUEST['cat_id']}'" : "";
    $filters .= $_REQUEST['sec_key_pro'] ? ",sec_key_pro:'{$_REQUEST['sec_key_pro']}'" : "";
    $filters .= $_REQUEST['appSearch'] ? ",appSearch:'{$_REQUEST['appSearch']}'" : ""; 
    $_REQUEST['directModule'] = "genericLoader(doLoadCompanies,{resetPagging:1{$filters}})";
}
if ($url == 'my_groups') {
    $url = _getWallUrl();
    $_REQUEST['_qHack'] = 'isSingle';
    $_REQUEST['directModule'] = "genericLoader(doLoadGroups,{cid:2})";
}
if ($url == 'private_member_wall_home')
    $url = 'private_member_wall';
if ($url == 'edit_profile') {
    if ($_SESSION['user_role'] == "individual") {
        $url = "wall";
        $_REQUEST['directModule'] = "doShowEditProfile()";
    } else {
        $url = 'my_data';
    }
}
if ($url == 'create_new_product') {
    tpl::$_vars['classified']['create_type'] = 'product';
    $url = 'create_general_classified';
}
if ($url == 'questions_and_answers') {
    $url = _getWallUrl();
    $_REQUEST['directModule'] = "doLoadQNA()";
}
if ($url == 'music_news_landing' || $url == "music_favorite_albums_playlist") {
    $_SESSION['music_video_type'] = 'music_news';
    $url = _getWallUrl();
    $_REQUEST['directModule'] = "doLoadMusicNews()";
}
if ($url == 'music_clips_landing') {
    $url = _getWallUrl();
    $_SESSION['music_video_type'] = 'music_videos';
    $_REQUEST['directModule'] = "doLoadMusicNews()";
}
if ($url == 'reports') {
    $url = _getWallUrl();
    $_REQUEST['directModule'] = "doLoadReports()";
}
if ($url == 'tipps_and_advices') {
    $url = _getWallUrl();
    $_REQUEST['directModule'] = "doLoadTips()";
}
if ($url == 'cooking_recipes') {
    $url = _getWallUrl();
    $_REQUEST['directModule'] = "doLoadCooking()";
}
if ($url == 'create_event_classified') {
    tpl::$_vars['classified']['create_type'] = 'event';
    $url = 'create_general_classified';
}
if ($url == 'create_job_classified') {
    tpl::$_vars['classified']['create_type'] = 'job';
    $url = 'create_general_classified';
}
if ($url == 'general_classified_landing')
    $url = 'landing';
//if($url == 'shopping_landing') $url = 'my_shop_landing';
if ($url == 'my_video')
    $url = 'my_content';
if ($url == 'invited_companies') {
    tpl::$_vars['invited_companies']['isInvited'] = true;
    $url = 'created_companies';
}
if ($url == 'create_company')
    $url = 'invite_companies';

if ($url == 'invite_referrals')
    $url = 'my_referrals';
if ($url == 'add_new_product')
    $url = 'my_shop_add';

if ($url == 'my_keywords' || $url == "add_keywords")
    $url = 'add_keyword';
if ($url == 'my_vouchers')
    $url = 'my_voucher';
if ($url == 'my_shop_category')
    $url = 'add_myshop_category';

if ($url == 'my_products') {
    //$url = 'my_shop';';
    tpl::$_vars['classified']['create_type'] = 'product';
    $url = "my_general_classified";
}
if ($url == 'my_job_classified') {
    //$url = 'my_job_ads';
    tpl::$_vars['classified']['create_type'] = 'job';
    $url = "my_general_classified";
}
if ($url == 'my_event_classified') {
    tpl::$_vars['classified']['create_type'] = 'event';
    $url = "my_general_classified";
}

if ($url == 'company_registration')
    $url = 'step2_commercial_customer';
if ($url == 'my_city_picture') {
    $url = "city_picture_landing";
    $_GET['my'] = 1;
}
if ($url == 'my_branches_edit_info' || $url == 'edit_company_infos') {
    $url = "my_entry";
}
if ($url == 'my_branches_biz_hours' || $url == "edit_company_business_hours") {
    $url = "my_business_hours";
}
if ($url == 'book_online_ad_spaces') {
    $url = "book_online_ad_space_step1";
}

if ($url == "user_point") {
    $url = "wall";
}
if ($url == "company_point") {
    $url = "wall_company";
}


if ($_SESSION['user_role'] != 'individual' && $_REQUEST['q'] == 'user_point') {
    header("Location:" . _U . "login");
}
//if($_SESSION['user_role'] != 'individual'){
//    if($_REQUEST['q'] == 'wall'){
//        $url = "wall_company";
//    }
//}

define('_MEDIA_UPLOAD_URL', 'http://i.naribas.de');
//define('_MEDIA_UPLOAD_URL', 'http://i.naribas.de');
global $BannerSizeArray;
$BannerSizeArray = array(
    "1" => array("w" => "768", "h" => "90"),
    "2" => array("w" => "300", "h" => "250"),
//"3"=>array("w"=>"120","h"=>"600"),
    "4" => array("w" => "160", "h" => "600"),
    "5" => array("w" => "468", "h" => "60"),
//"6"=>array("w"=>"120","h"=>"60"),
    "8" => array("w" => "1280", "h" => "768"),
    "7" => array("w" => "200", "h" => "115"),
    "8" => array("w" => "1010", "h" => "85"),
    "9" => array("w" => "208", "h" => "175"),
    "10" => array("w" => "216", "h" => "175"),
    "11" => array("w" => "208", "h" => "185"),
    "12" => array("w" => "550", "h" => "90"),
);
$BannerSizeArray = array(
    "1" => array("w" => "728", "h" => "90"),
    "2" => array("w" => "300", "h" => "250"),
    "4" => array("w" => "200", "h" => "600"),
    "5" => array("w" => "468", "h" => "60"),
    "8" => array("w" => "1280", "h" => "768"),
    "7" => array("w" => "200", "h" => "115"),
    "8" => array("w" => "967", "h" => "100"),
    "9" => array("w" => "200", "h" => "400")
);
/*
 * 1.010px � 85px (Top Banner)
  205px � 175px (Partner of our portal)
  550px � 80px (Main Sponsor Banner Center)
  215px � 140px (Main Sponsor Banner Right)
 */
global $PrintBannerSizeArray;
$PrintBannerSizeArray = array(
    "1" => array("w" => "800", "h" => "460"),
    "2" => array("w" => "2600", "h" => "560"),
);


define('FFMPEG_PATH', 'ffmpeg');
define('ADHOSTER_URL', 'http://www.adhoster.de/arstecom/Member.asmx');


$partner_content_urls = array(
    'environment_and_transport' => array('cat_id' => 3038, 'related_cat_id' => '3042', 'related_url' => 'cruise_reports', 'text_id' => '3053', 'image_id' => 'environment_transport'),
    'money_and_finances' => array('cat_id' => 3039, 'related_cat_id' => '3048', 'related_url' => 'law_and_judgments', 'text_id' => '3054', 'image_id' => 'money_finance'),
    'safety_and_traffic' => array('cat_id' => 3040, 'related_cat_id' => '3039', 'related_url' => 'money_and_finances', 'text_id' => '3055', 'image_id' => 'safety_traffic'),
    'vehicle_models' => array('cat_id' => 3041, 'related_cat_id' => '3040', 'related_url' => 'safety_and_traffic', 'text_id' => '3056', 'image_id' => 'vehicle_models'),
    'cruise_reports' => array('cat_id' => 3042, 'related_cat_id' => '3041', 'related_url' => 'vehicle_models', 'text_id' => '3057', 'image_id' => 'cruise_reports'),
    'family_and_home' => array('cat_id' => 3043, 'related_cat_id' => '3045', 'related_url' => 'eating_drinking', 'text_id' => '3058', 'image_id' => 'family_home'),
    'job_and_career' => array('cat_id' => 3044, 'related_cat_id' => '3046', 'related_url' => 'construction_and_housing', 'text_id' => '3059', 'image_id' => 'job_career'),
    'eating_drinking' => array('cat_id' => 3045, 'related_cat_id' => '3049', 'related_url' => 'health_and_nutrition', 'text_id' => '3060', 'image_id' => 'eating_drinking'),
    'construction_and_housing' => array('cat_id' => 3046, 'related_cat_id' => '3051', 'related_url' => 'holiday_and_travel', 'text_id' => '3061', 'image_id' => 'construction_housing'),
    'home_and_furnishing' => array('cat_id' => 3047, 'related_cat_id' => '3043', 'related_url' => 'family_and_home', 'text_id' => '3062', 'image_id' => 'home_furnishing'),
    'law_and_judgments' => array('cat_id' => 3048, 'related_cat_id' => '3050', 'related_url' => 'economy', 'text_id' => '3063', 'image_id' => 'law_judgments'),
    'health_and_nutrition' => array('cat_id' => 3049, 'related_cat_id' => '3047', 'related_url' => 'home_and_furnishing', 'text_id' => '3064', 'image_id' => 'health_nutrition'),
    'economy' => array('cat_id' => 3050, 'related_cat_id' => '3038', 'related_url' => 'environment_and_transport', 'text_id' => '3065', 'image_id' => 'economy_economy'),
    'holiday_and_travel' => array('cat_id' => 3051, 'related_cat_id' => '3052', 'related_url' => 'multimedia', 'text_id' => '3066', 'image_id' => 'holiday_travel'),
    'multimedia' => array('cat_id' => 3052, 'related_cat_id' => '3044', 'related_url' => 'job_and_career', 'text_id' => '3067', 'image_id' => 'multimedia_multimedia')
);


if (array_key_exists($url, $partner_content_urls)) {
    tpl::$partner_content_category = $partner_content_urls[$url];
    tpl::$partner_content_ds = $partner_content_urls;
    $url = 'partner_content';
}

tpl::$_vars['flyer']['0_credit_color'] = "#FFF";
tpl::$_vars['flyer']['5_credit_color'] = "#FFFBA7";
tpl::$_vars['flyer']['8_credit_color'] = '#B6DFF8';
tpl::$_vars['flyer']['15_credit_color'] = "#F7C7B6";
tpl::$_vars['flyer']['10_credit_color'] = "#CD8EDB";
tpl::$_vars['flyer']['20_credit_color'] = "#D19E64";
tpl::$_vars['flyer']['25_credit_color'] = "#81EB85";

$_cid = $_SESSION['front_city'] ? $_SESSION['front_city'] : '7960';
define("CITY_ID", $_cid);

$city_data = q(" select c_id,s_id,p_id from cities where ci_id = '{$_cid}' ");
$_SESSION['front_country'] = $city_data[0]['c_id'];
$_SESSION['front_state'] = $city_data[0]['s_id'];
$_SESSION['front_province'] = $city_data[0]['p_id'];


$time_zone = date_default_timezone_set('Europe/Berlin');

define('_REAL_PAGING_DEFAULT', 18);


if (isset($_REQUEST['_mr'])) {
    $id = ($_REQUEST['_mr']);
    markAsRead($id);
}
//find . -name '*.txt' | awk '{print "source",$0}' | mysql --batch -u root -p cityDB
?>